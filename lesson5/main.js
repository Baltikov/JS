(()=>{"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class e{constructor(e,i){t(this,"_text",""),t(this,"_callback",null),this._text=e,this._callback=i}render(t){if(t){const e=this.createBtn();e.innerHTML=this._text,t.appendChild(e),e.addEventListener("click",(()=>{this.oneBtnClick()}))}}createBtn(){const t=document.createElement("button");return t.classList.add("btn"),t}oneBtnClick(){const t=this._callback;"function"==typeof t&&t()}}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class n{constructor({name:t,price:e,img:n},s){i(this,"_name",""),i(this,"_price",0),i(this,"_img",0),i(this,"_cartget",null),this._name=t,this._price=e,this._img=n,this._cartget=s}addToCart(){this._cartget.add({name:this._name,price:this._price,img:this._img})}render(){const t=document.querySelector(".item");if(t){const i=document.createElement("div");i.innerHTML=`Товар: ${this._name} = $ ${this._price}\n            <img src = "${this._img}" />\n           `,new e("Добавить в корзину",this.addToCart.bind(this)).render(i),t.appendChild(i)}}}class s{constructor({name:t,price:e,img:n}){i(this,"_name",""),i(this,"_price",0),i(this,"_img",0),i(this,"_cartget",null),this._name=t,this._price=e,this._img=n,this.render()}render(){const t=document.querySelector(".Cart");if(t){const e=document.createElement("div");e.innerHTML=`Товар: ${this._name} = $ ${this._price}\n            <img src = "${this._img}" />\n           `,t.appendChild(e)}}}const r=new class{add(t){new s(t)}};new class{constructor(t){i(this,"_items",[]),this.getitem().then((t=>t.json())).then((e=>{console.log(e);const i=e.data.map((e=>new n(e,t)));this._items=i,this.render()}))}getitem(){return fetch("./database/items.json")}render(){this._items.forEach((t=>{t.render()}))}}(r)})();
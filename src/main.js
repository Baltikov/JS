(()=>{"use strict";class t{constructor(t,e){this._text=t,this._callback=e}render(t){if(t){const e=this.createBtn();e.innerHTML=this._text,t.appendChild(e),e.addEventListener("click",(()=>{this.oneBtnClick()}))}}createBtn(){const t=document.createElement("button");return t.classList.add("btn"),t}oneBtnClick(){const t=this._callback;"function"==typeof t&&t()}}class e{constructor({name:t,price:e,img:n},i){this._name=t,this._price=e,this._img=n,this._cartget=i}addToCart(){this._cartget.add({name:this._name,price:this._price,img:this._img})}render(){const e=document.querySelector(".item");if(e){const n=document.createElement("div");n.innerHTML=`Товар: ${this._name} = $ ${this._price}\n            <img src = "${this._img}" />\n           `,new t("Добавить в корзину",this.addToCart.bind(this)).render(n),e.appendChild(n)}}}class n{constructor({name:t,price:e,img:n}){this._name=t,this._price=e,this._img=n,this.render()}render(){const t=document.querySelector(".Cart");if(t){const e=document.createElement("div");e.innerHTML=`Товар: ${this._name} = $ ${this._price}\n            <img src = "${this._img}" />\n           `,t.appendChild(e)}}}const i=new class{add(t){new n(t)}};new class{constructor(t){this.getitem().then((t=>t.json())).then((n=>{console.log(n);const i=n.data.map((n=>new e(n,t)));this._items=i,this.render()}))}getitem(){return fetch("./database/items.json")}render(){this._items.forEach((t=>{t.render()}))}}(i)})();